
<html>
    <head>
        <title>Clientes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">

        <!-- CSS -->
        <!-- CSS Bootstrap -->
        <link href="css/MyCSS.css" rel="stylesheet" type="text/css">
        <link href="css/bootstrap-responsive.css" rel="stylesheet" type="text/css">
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
        <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">

        <!-- Scripts -->
        <!-- jQuery -->
        <script src="js/jquery.min.js"></script>
        <!-- JS Bootstrap -->
        <script src="js/bootstrap.js"></script>
        <!-- Metodos Javascript del cliente con jQuery usando JAX-RS y Jersey-->
        <script src="js/jQueryClient.js"></script>
        <!-- Metodos Javascript de la interfaz-->
        <script src="js/DesignScripts.js"></script>
        <!-- Metodos de la pagina actual-->
        <script>
            $(document).ready(function() {
                $("#delete-value").hide();
                //getClientes();
                $(".cli-add").click(function() {
                    $("#edit-cliente #Heading").html("Agregar Cliente");
                    $("#edit-cliente #cedula").prop('disabled', false);
                    $("#edit-cliente #cedula").val("");
                    $("#edit-cliente #cuenta").val("");
                    $("#edit-cliente #nombre").val("");
                    $("#edit-cliente #telefono").val("");
                    $("#edit-cliente #ruta").val("");
                    $("#edit-cliente #puntos").val("");
                    $("#edit-cliente #tipo").val("");
                    $("#edit-cliente .btn-cli-post").show();
                    $("#edit-cliente .btn-cli-update").hide();
                });
                $('body').on('click', '.cli-edit', function() {
                    $("#edit-cliente #Heading").html("Editar Cliente");
                    $("#edit-cliente #cedula").prop('disabled', true);
                    $("#edit-cliente #cedula").val($(this).parents("tr").children("#campo-cedula").html());
                    $("#edit-cliente #cuenta").val($(this).parents("tr").children("#campo-cuenta").html());
                    $("#edit-cliente #nombre").val($(this).parents("tr").children("#campo-nombre").html());
                    $("#edit-cliente #telefono").val($(this).parents("tr").children("#campo-telefono").html());
                    $("#edit-cliente #ruta").val($(this).parents("tr").children("#campo-ruta").html());
                    $("#edit-cliente #puntos").val($(this).parents("tr").children("#campo-puntos").html());
                    $("#edit-cliente #tipo").val($(this).parents("tr").children("#campo-tipo").html());
                    $("#edit-cliente .btn-cli-post").hide();
                    $("#edit-cliente .btn-cli-update").show();
                });
                $(".btn-cli-post").click(function() {
                    $('#edit-cliente').modal('hide');
                    postCliente();
                });
                $(".btn-cli-update").click(function() {
                    $('#edit-cliente').modal('hide');
                    updateCliente();
                });
                $('body').on('click', '.cli-delete', function() {
                    $("#delete-value").val($(this).parents("tr").children("#campo-cedula").html());
                });
                $(".btn-cli-delete").click(function() {
                    $('#delete-cliente').modal('hide');
                    deleteCliente();
                });
            });
        </script>
    </head>
    <body>
        <input id="delete-value" type="text" class="form-control">
        <div class="bs-header" id="content">
            <div class="container">
                <h1>FlexDesktop - Clientes</h1>
            </div>
        </div>

        <!-- Tabla Clientes-->
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">Clientes</h3>
                            <div class="pull-right">
                                <span class="clickable filter" data-toggle="tooltip" title="Buscar" data-container="body">
                                    <i class="glyphicon glyphicon-search"></i>
                                </span>
                                <span class="clickable cli-add" title="Agregar Cliente" data-container="body"  data-toggle="modal" data-target="#edit-cliente" data-placement="top">
                                    <i class="glyphicon glyphicon-plus-sign"></i>
                                </span>
                            </div>
                        </div>
                        <div class="panel-body">
                            <input type="text" class="form-control" id="cli-table-filter" data-action="filter" data-filters="#cli-table" placeholder="Buscar Clientes" />
                        </div>
                        <table class="table table-hover" id="cli-table">
                            <thead>
                                <tr>
                                    <th>CIF</th>
                                    <th>Cédula</th>
                                    <th>Nombre</th>
                                    <th>Direccion</th>
                                    <th>Telefono</th>
                                    <th>Foto</th>
                                    <th>Docs</th>
                                    <th>Editar</th>
                                    <th>Eliminar</th> 
                                </tr>
                            </thead>
                            <tbody id="cli-table-body">
                                <tr>
                                    <td id="campo-cif">1234567890</td>
                                    <td id="campo-cedula">115260289</td>
                                    <td id="campo-nombre">Kilgore</td>
                                    <td id="campo-direccion">san pedro</td>
                                    <td id="campo-telefono">22304136</td>
                                    <td id="campo-foto" class='foto'></td>
                                    <!-- TODO agregar el metodo de clidocs-->
                                    <td><p><button class="btn btn-primary btn-xs cli-docs" data-title="Documentos-cliente" data-toggle="modal" data-target="#documentos-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-folder-open"></span></button></p></td>
                                    <td><p><button class="btn btn-primary btn-xs cli-edit" data-title="Edit-cliente" data-toggle="modal" data-target="#edit-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-pencil"></span></button></p></td>
                                    <td><p><button class="btn btn-danger btn-xs cli-delete" data-title="Delete-cliente" data-toggle="modal" data-target="#delete-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-trash"></span></button></p></td>
                                </tr>
                                <tr>
                                    <td id="campo-cif">1234567890</td>
                                    <td id="campo-cedula">115260289</td>
                                    <td id="campo-nombre">Kilgore</td>
                                    <td id="campo-direccion">san pedro</td>
                                    <td id="campo-telefono">22304136</td>
                                    <td id="campo-foto" class='foto'></td>
                                    <td><p><button class="btn btn-primary btn-xs" data-title="Documentos-cliente" data-toggle="modal" data-target="#documentos-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-folder-open"></span></button></p></td>
                                    <td><p><button class="btn btn-primary btn-xs cli-edit" data-title="Edit-cliente" data-toggle="modal" data-target="#edit-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-pencil"></span></button></p></td>
                                    <td><p><button class="btn btn-danger btn-xs cli-delete" data-title="Delete-cliente" data-toggle="modal" data-target="#delete-cliente" data-placement="top" rel="tooltip"><span class="glyphicon glyphicon-trash"></span></button></p></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Edit/Add Clientes-->
        <div class="modal fade" id="edit-cliente" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h3 class="modal-title custom_align" id="Heading"></h3>
                    </div>
                    <div class="modal-body">
                        <div class="required-field-block">
                            <input id="cedula" type="text" placeholder="Cédula" class="form-control">
                            <div class="required-icon">
                                <div class="text">*</div>
                            </div>
                        </div>
                        <div>
                            <input id="cuenta" type="text" placeholder="Número de Cuenta" class="form-control">
                        </div>
                        <div class="required-field-block">
                            <input id="nombre" type="text" placeholder="Nombre" class="form-control">
                            <div class="required-icon">
                                <div class="text">*</div>
                            </div>
                        </div>
                        <div class="required-field-block">
                            <input id="telefono" type="text" placeholder="Teléfono" class="form-control">
                            <div class="required-icon">
                                <div class="text">*</div>
                            </div>
                        </div>
                        <div>
                            <input id="ruta" type="text" placeholder="ID de Ruta" class="form-control">
                        </div>
                        <div>
                            <input id="puntos" type="text" placeholder="Puntos" class="form-control" disabled>
                        </div>
                        <div>
                            <input id="tipo" type="text" placeholder="Tipo de Cuenta" class="form-control" disabled>
                        </div>
                    </div>
                    <div class="modal-footer ">
                        <button type="button" class="btn btn-warning btn-lg btn-cli-post" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Agregar</button>
                        <button type="button" class="btn btn-warning btn-lg btn-cli-update" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
                    </div>
                </div>
                <!-- /.modal-content --> 
            </div>
            <!-- /.modal-dialog --> 
        </div>

        <!--modal delete-->
        <div class="modal fade" id="delete-cliente" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title custom_align" id="Heading">Borrar Esta Entrada</h4>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-warning"><span class="glyphicon glyphicon-warning-sign"></span> Seguro que desea eliminar este cliente?</div>
                    </div>
                    <div class="modal-footer ">
                        <button type="button" class="btn btn-warning btn-cli-delete" ><span class="glyphicon glyphicon-ok-sign"></span> Si</button>
                        <button type="button" class="btn btn-warning" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
                    </div>
                </div>
                <!-- /.modal-content --> 
            </div>
            <!-- /.modal-dialog --> 
        </div>

    </body>
</html>
